<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Controlling mPsy experiments from R &mdash; Modular Psychophysics 2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Modular Psychophysics 2.0 documentation" href="index.html" />
    <link rel="next" title="Standard stimulus library" href="stimuli.html" />
    <link rel="prev" title="Control from MATLAB" href="tut_matlab.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="index.html">
            <img class="logo" src="_static/logo_mpsy64.png" alt="Logo"/>
          </a></p>
        <div class="headertitle"><a
          href="index.html">Modular Psychophysics 2.0 documentation</a></div>
        <div class="rel">
          <a href="tut_matlab.html" title="Control from MATLAB"
             accesskey="P">previous</a> |
          <a href="stimuli.html" title="Standard stimulus library"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="controlling-mpsy-experiments-from-r">
<h1>Controlling <cite>mPsy</cite> experiments from R<a class="headerlink" href="#controlling-mpsy-experiments-from-r" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#installation" id="id1">Installation</a></li>
<li><a class="reference internal" href="#a-simple-r-experiment" id="id2">A simple R experiment</a></li>
<li><a class="reference internal" href="#recording-responses" id="id3">Recording responses</a></li>
</ul>
</div>
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id1">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>You can download mPsy with sample experiment written in R from
<a class="reference external" href="https://dl.dropboxusercontent.com/u/166463/visionpyg/downloads/mpsy_r.zip">here</a>.</p>
<p>In what is described on this page, the R environment is used only to specify the timeline of experiment and its parameters.
Presentation of stimuli still require a working Python installation as descibed in <a class="reference internal" href="index.html"><em>Modular Psychophysics (mPsy)</em></a>.</p>
<p>Once you have Python installed, exctract the downloaded mPsy package into an empty directory.</p>
<p>The mPsy-to-R bridge script uses two R packages that might be not installed in your distribution.
These packages are &#8220;rjson&#8221; and &#8220;httpRequest&#8221;, please install them using your favorite method.</p>
</div>
<div class="section" id="a-simple-r-experiment">
<h2><a class="toc-backref" href="#id2">A simple R experiment</a><a class="headerlink" href="#a-simple-r-experiment" title="Permalink to this headline">¶</a></h2>
<p>As stated in the first section the experiment will be essentially running in Python, R will
be used to remotelly control this experiment. The Python program that will &#8220;listen&#8221; to the R
commands is a simple experiment with no stimuli and remote control component included:</p>
<p>The web remote control is enabled by the following code:</p>
<p>When the remotely controllable Python experiment is running we can use R to define when and
what stimuli appear on the screen. The mPsy Python package will take care of stimulus presentation,
subject interaction such as the collecting responses, and transmission of collected information back
to the R program.</p>
<p>The R experiment looks as follows:</p>
<p>To run the demo experiment first download the file. Next run the &#8220;exp_tut_webremote.py&#8221;
(double click, or use Terminal or cmd.exe and execute by typing &#8220;python exp_tut_webremote.py&#8221;).
A succesfull execution of the Python program results in a blank  black screen
(or a black window in case fullscreen option is off). At this point you can go to R,
change the working directory to the one containing the file &#8220;dots_tut3.r&#8221; and run &#8220;source(&#8216;dots_tut3.r&#8217;)&#8221;.</p>
<p>The syntax of the R experiment is modelled after the Python examples. Please refer
to the main tutorial &#8220;<a class="reference internal" href="index.html"><em>Modular Psychophysics (mPsy)</em></a>&#8221; for explanation of commands for stimulus parameter and trial setup.</p>
</div>
<div class="section" id="recording-responses">
<h2><a class="toc-backref" href="#id3">Recording responses</a><a class="headerlink" href="#recording-responses" title="Permalink to this headline">¶</a></h2>
<p>Events triggered by mPsy or subject interation are described in the main Python tutorial
in <a class="reference internal" href="tut_python.html"><em>Psychophysics in &#8220;pure&#8221; Python</em></a>.</p>
<p>To catch events in R we regularly check for any messages accumulating in the Python presentation program:</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <!--<h3>Table Of Contents</h3>-->
          <h3>Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut_python.html">Control from Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut_matlab.html">Control from MATLAB</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Control from R</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-simple-r-experiment">A simple R experiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recording-responses">Recording responses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stimuli.html">Standard stimulus library</a></li>
<li class="toctree-l1"><a class="reference internal" href="tut_stimuli.html">New stimuli</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Brief function reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html#indices-and-tables">Indices and tables</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="tut_matlab.html" title="Control from MATLAB"
             >previous</a> |
          <a href="stimuli.html" title="Standard stimulus library"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/tut_r.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2014, Peter Jurica, Sergei Gepshtein.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>